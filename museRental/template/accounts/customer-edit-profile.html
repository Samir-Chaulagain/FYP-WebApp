{% extends 'base.html' %}
{% load static %}
{% block content %}



<div class="text-center bg-image" data-aos="zoom-in-up"
  style="
      background-image: url('{% static 'img/about/aboutus2.jpg' %}'); height:475px; background-repeat: no-repeat; background-size:cover; margin-top:-100px; opacity:96% ;">

  <div class="d-flex justify-content-center align-items-center h-100">
    <div class="container">
      <div class="row align-items-center justify-content-center">

        <div class="col-md-12">
          <div class="custom-breadcrumbs">
            <h1>
              <a href="{% url 'event:event' %}" class="font-weight-bold "
                style="color: white; text-decoration: none;">Profile</a>

            </h1>
            <span class="mx-2 slash">/</span>
            <span class="text-white"><strong></strong></span>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>

<div class="container mt-5 ">
  <div class="row justify-content-center align-items-center ">
    <div class="col-8 mb-5 ">




      <ul class="mb-3 nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
            aria-selected="true" style="color: black;">Profile Page</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-black" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
            aria-controls="profile" aria-selected="false" style="color: black;">Change Password</a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
          <h5 class="card-header text-center text-black">User Profile</h5>
          {% if form.errors %}
          {% for field in form %}
          {% for error in field.errors %}
          <div class="alert alert-danger alert-dismissable">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>{{ error|escape }}</strong>
          </div>
          {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
          <div class="alert alert-danger alert-dismissable">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>{{ error|escape }}</strong>
          </div>
          {% endfor %}
          {% endif %}


          {% include 'messages.html' %}
          <form method="POST" action="" enctype="multipart/form-data" class="p-4 border rounded shadow-lg">

            {% csrf_token %}

            {% csrf_token %}
            <span class="text-primary d-block mb-6" style="text-align: center; object-fit: cover;">
              <img src="{{ form.instance.photo.url }}" alt="Profile Picture" style="border-radius: 50%;" width="280"
                height="300">
            </span>


            {% for field in form %}
            {% if field.name == 'gender' %}
            <div class="row form-group mb-4 ">
              <div class="col-md-12 mb-3 mb-md-0">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" id="male gender" value="M">
                  <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" id="female" value="F">
                  <label class="form-check-label" for="female">Female</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-3 mb-md-0">
                {% if form.instance.document_photo %}
                <img src="{{ form.instance.document_photo.url }}" alt="Document Photo" width="280" height="300">
                
                {% else %}
                <p>upload photo</p>
                
                {% endif %}
                
              </div>
            </div>

            {% else %}

            <div class="row form-group">
              <div class="row">

                <div class="col-md-12 mb-3 mb-md-0">
                  <label class="text-black" for="id_{{ field.name }}">{{ field.label }}</label>
                  <input type="{{ field.field.widget.input_type }}" class="form-control" name="{{ field.name }}"
                  id="id_{{ field.name }}" value="{{ field.value }}"
                  placeholder="{{ field.field.widget.attrs.placeholder }}">
                </div>
              </div>
              


            </div>

            {% endif %}
            {% endfor %}
            <div class="row form-group">
              <div class="col-md-12">
                <input type="submit" value="Update" class="btn px-4 btn-primary text-white">
              </div>
            </div>

          </form>

        </div>




        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
          <h5 class="card-header text-center text-black">Change Password</h5>

          <div class="container">
            <div class="row justify-content-center">
              <div class="col-md-6 mt-3">
                
                <form method="post">
                  {% csrf_token %}
                  {% for field in form1 %}
                  <div class="form-group {% if field.errors %}has-error{% endif %}">
                    <label class="text-black" for="{{ field.id_for_label }}">{{ field.label }}</label>
                    <div class="input-group">
                      {{ field }}
                    </div>
                    {% if field.errors %}
                    <p class="text-danger">{{ field.errors }}</p>
                    {% endif %}
                  </div>
                  {% endfor %}
                  <button type="submit" class="btn btn-primary mt-3">Change Password</button>
                </form>
              </div>
            </div>
          </div>

        </div>

      </div>







    </div>
  </div>
</div>


{% endblock %}